# Exemplo simples de configuração inspirado no formato do NGINX

server {
    # Host e porta
    listen 127.0.0.1:8080;
    # server_name opcional
    # server_name meu_servidor.local;

    # Tamanho máximo do body do cliente
    client_max_body_size 10M;

    # Páginas de erro padrão
    error_page 404 /erro/404.html;
    error_page 500 /erro/500.html;

    # Rota padrão (root directory)
    location / {
        # Diretorio raiz para buscar arquivos
        root /var/www/html;
        # Arquivo default se for um diretório
        index index.html;
        # Métodos permitidos
        allow_methods GET POST;
        # Directory listing on/off
        autoindex on;
    }

    # Exemplo de rota com redirecionamento
    location /antigo {
        return 301 /novo;
    }

    # Nova rota apontando para outro diretório
    location /novo {
        root /var/www/novo;
        index index.html;
        allow_methods GET;
    }

    # Rota para execução de CGI (exemplo: .php)
    location /cgi-bin {
        root /var/www/cgi-bin;
        cgi_extension .php;
        # Arquivo CGI executável (p.ex. php-cgi)
        cgi_executable /usr/bin/php-cgi;
        allow_methods GET POST;
    }

    # Rota para upload de arquivos
    location /upload {
        root /var/www/uploads;
        allow_methods POST;
        # Diretório onde os arquivos serão salvos
        upload_store /var/www/uploads;
    }
}
